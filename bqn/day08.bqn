Solve â‡ {
  trees â† >ğ•©-'0'
  rows â† trees
  cols â† â‰trees

  SplitAt â† {âŸ¨âŒ½ğ•©â†‘ğ•¨, 1â†“ğ•©â†“ğ•¨âŸ©}
  IsVisible â† {ğ•©>âŒŠÂ´âŒˆÂ´Â¨ğ•¨}
  ScenicScore â† {Ã—Â´{(â‰ ğ•©)âŒŠ1+âŠ‘ğ•©âŠ1}Â¨ğ•©â‰¤ğ•¨}

  Enumerate â† {ğ•©âˆ¾Â¨â†•â‰¢ğ•©}
  Fold â† {aâ€¿xğ•Šbâ€¿y: âŸ¨a+b, xâŒˆyâŸ©}
  Map â† {ğ•Šheightâ€¿yâ€¿x:
    rowâ€¿col â† âŸ¨yâŠrows, xâŠcolsâŸ©
    lâ€¿r â† row SplitAt x # left right
    uâ€¿d â† col SplitAt y # up down
    âŸ¨ lâ€¿râ€¿uâ€¿d IsVisible height
      lâ€¿râ€¿uâ€¿d ScenicScore height âŸ©
  }

  FoldÂ´MapÂ¨â¥ŠEnumerate trees
}
